{
  "version": "1.0",
  "metadata": {
    "name": "Trigger.dev",
    "description": "Open-source platform for creating long-running background jobs with TypeScript",
    "icon": "https://trigger.dev/favicon.png",
    "tags": ["typescript", "background-jobs", "async", "queue", "scheduling"],
    "readme": "https://raw.githubusercontent.com/triggerdotdev/trigger.dev/main/README.md"
  },
  "services": [
    {
      "id": "webapp",
      "name": "Trigger.dev",
      "source": {
        "type": "github",
        "repo": "triggerdotdev/trigger.dev",
        "branch": "main"
      },
      "build": {
        "builder": "nixpacks",
        "buildCommand": "pnpm install --frozen-lockfile && pnpm run generate && pnpm run build --filter=webapp"
      },
      "deploy": {
        "startCommand": "cd apps/webapp && pnpm start",
        "healthcheckPath": "/healthcheck",
        "restartPolicyType": "ON_FAILURE",
        "numReplicas": 1
      },
      "domains": {
        "production": {
          "hasPublicDomain": true
        }
      },
      "envs": {
        "PORT": {
          "default": "${{PORT}}"
        },
        "NODE_ENV": {
          "default": "production"
        },
        "APP_ORIGIN": {
          "default": "https://${{RAILWAY_PUBLIC_DOMAIN}}"
        },
        "LOGIN_ORIGIN": {
          "default": "https://${{RAILWAY_PUBLIC_DOMAIN}}"
        },
        "API_ORIGIN": {
          "default": "https://${{RAILWAY_PUBLIC_DOMAIN}}"
        },
        "DEV_OTEL_EXPORTER_OTLP_ENDPOINT": {
          "default": "https://${{RAILWAY_PUBLIC_DOMAIN}}/otel"
        },
        "DATABASE_URL": {
          "default": "${{Postgres.DATABASE_URL}}",
          "description": "PostgreSQL connection URL"
        },
        "DIRECT_URL": {
          "default": "${{Postgres.DATABASE_URL}}",
          "description": "Direct PostgreSQL connection URL"
        },
        "REDIS_HOST": {
          "default": "${{Redis.RAILWAY_PRIVATE_DOMAIN}}",
          "description": "Redis hostname"
        },
        "REDIS_PORT": {
          "default": "${{Redis.REDISPORT}}",
          "description": "Redis port"
        },
        "REDIS_PASSWORD": {
          "default": "${{Redis.REDISPASSWORD}}",
          "description": "Redis password"
        },
        "SESSION_SECRET": {
          "generate": "string",
          "description": "Session encryption secret (auto-generated)"
        },
        "MAGIC_LINK_SECRET": {
          "generate": "string",
          "description": "Magic link secret (auto-generated)"
        },
        "ENCRYPTION_KEY": {
          "generate": "string",
          "description": "Encryption key (auto-generated)"
        },
        "MANAGED_WORKER_SECRET": {
          "generate": "string",
          "description": "Worker secret (auto-generated)"
        },
        "NODE_MAX_OLD_SPACE_SIZE": {
          "default": "4096",
          "description": "Node.js memory limit in MB"
        },
        "TRIGGER_TELEMETRY_DISABLED": {
          "default": "1"
        },
        "TRIGGER_CLI_TAG": {
          "default": "v4-beta"
        },
        "APP_LOG_LEVEL": {
          "default": "info"
        },
        "REDIS_TLS_DISABLED": {
          "default": "true"
        },
        "EMAIL_TRANSPORT": {
          "default": "",
          "description": "Email transport: resend, smtp, or aws-ses (optional)"
        },
        "FROM_EMAIL": {
          "default": "",
          "description": "From email address (optional)"
        },
        "REPLY_TO_EMAIL": {
          "default": "",
          "description": "Reply-to email address (optional)"
        }
      }
    },
    {
      "id": "postgres",
      "name": "PostgreSQL",
      "type": "database",
      "database": "postgresql"
    },
    {
      "id": "redis",
      "name": "Redis",
      "type": "database",
      "database": "redis"
    }
  ]
}